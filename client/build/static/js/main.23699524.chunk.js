(window["webpackJsonpgoogle-book-search"]=window["webpackJsonpgoogle-book-search"]||[]).push([[0],{29:function(e,a,t){},34:function(e,a,t){e.exports=t(69)},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){},67:function(e,a,t){},68:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),l=t(30),r=t.n(l),c=(t(39),t(7)),s=t(6);t(40),t(41);var i=function(){return o.a.createElement("nav",{className:"navbar navbar-expand-lg  sticky-top"},o.a.createElement(c.b,{className:"navbar-brand",to:"/"},o.a.createElement("div",{className:"logo"},"Google Books")),o.a.createElement("div",{className:"navbar"},o.a.createElement("div",{className:"navbar-nav"},o.a.createElement(c.b,{className:"nav-item",to:"/search"},o.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"},"  Search")),o.a.createElement(c.b,{className:"nav-item",to:"/save"},o.a.createElement("i",{className:"fa fa-bookmark","aria-hidden":"true"},"  Saved")))))};t(47);var m=function(){return o.a.createElement("div",{className:"bodyContainer"},o.a.createElement("h3",null,"(React) Google Books Search"),o.a.createElement("p",null," Search for and Save books of Interest"))};t(48);var u=function(){return o.a.createElement("footer",{className:"footer"},o.a.createElement("span",null,"Google Books Search 2019"))},d=t(33),v=t(11),g=t(12),h=t(14),f=t(13),b=t(15),k=(t(49),{errorStyles:{color:"red",fontWeight:20}});var E=function(e){return o.a.createElement("div",{className:"contianer searchForm"},o.a.createElement("h2",null,"Book Search"),o.a.createElement("nav",{className:"navbar navbar-light bg-light"},o.a.createElement("form",{className:"form-inline"},o.a.createElement("input",{className:"form-control  mr-sm-2",type:"search",id:"bookname",onChange:e.handleInputChange,name:"bookname",value:e.bookname,placeholder:"input a book name","aria-label":"Search"}),o.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0",onClick:e.handleSearchFormSubmit,type:"submit"},"Search")),e.error?o.a.createElement("div",{style:k.errorStyles},e.error):o.a.createElement("div",null)))},p=t(10),N=t.n(p),S={getGoogleBooks:function(e){return console.log("in API, title",e),N.a.get("/api/books/googlebooks/"+e)},saveBooks:function(e){return N.a.post("/api/books",e)},getBooks:function(){return N.a.get("/api/books")},deleteBooks:function(e){return N.a.delete("/api/books/"+e)}};t(29),t(67),t(68);function B(e){var a=e.children;return o.a.createElement("div",{className:"list-overflow-container"},o.a.createElement("ul",{className:"list-group"},a))}function y(e){var a=e.children;return o.a.createElement("li",{className:"list-group-item"},a)}var I=function(e){return o.a.createElement("div",{className:"container-fluid resultContainer"},o.a.createElement(B,null,o.a.createElement("h4",null,"Results"),e.result.map((function(a,t){return a.volumeInfo.title&&a.volumeInfo.title?o.a.createElement(y,{key:t},o.a.createElement("div",{className:"card mb-3"},o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("h5",{className:"card-title"},a.volumeInfo.title),o.a.createElement("p",{className:"card-text"},o.a.createElement("small",{className:"text-muted"},a.volumeInfo.authors)),o.a.createElement("img",{src:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.smallThumbnail:"",className:"card-img",alt:"book image"})),o.a.createElement("div",{className:"col-md-8"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"card-text card-desc"},a.volumeInfo.description?a.volumeInfo.description:"No description"),o.a.createElement("button",null,o.a.createElement("a",{href:a.volumeInfo.previewLink,target:"_blank",rel:"noopener noreferrer"},"View")),o.a.createElement("button",{onClick:e.handleSaveBooks,title:a.volumeInfo.title,authors:a.volumeInfo.authors,image:a.volumeInfo.imageLinks?a.volumeInfo.imageLinks.smallThumbnail:"",link:a.volumeInfo.previewLink,description:a.volumeInfo.description,disabled:!!e.saveSuccess},"Save")))))):o.a.createElement("div",null)}))))},w=function(e){function a(){var e,t;Object(v.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).state={bookname:"",result:[],errorflag:!1,error:"",loadingflag:!1,displayflag:!1,saveSuccess:!1},t.handleInputChange=function(e){var a=e.target,n=a.name,o=a.value;t.setState(Object(d.a)({},n,o))},t.handleSearchFormSubmit=function(e){e.preventDefault(),t.setState({errorflag:!1,error:"",displayflag:!1,result:"",saveSuccess:!1}),t.setState({loadingflag:!0}),""===t.state.bookname?t.setState({errorflag:!0,error:"Please input a valid book name!"}):(console.log("this book name",t.state.bookname),S.getGoogleBooks(t.state.bookname).then((function(e){t.setState({result:e.data,loadingflag:!1,displayflag:!0})})).catch((function(e){console.log("get google books err ",e)})))},t.handleSaveBooks=function(e){var a=e.target.attributes.authors.value.split(","),n={title:e.target.attributes.title.value,authors:a,image:e.target.attributes.image?e.target.attributes.image.value:"",link:e.target.attributes.link?e.target.attributes.link.value:"",description:e.target.attributes.description?e.target.attributes.description.value:""};S.saveBooks(n).then((function(e){t.setState({saveSuccess:!0}),console.log("success",e)})).catch((function(e){console.log("save books err ",e)}))},t}return Object(b.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement(E,{handleInputChange:this.handleInputChange,handleSearchFormSubmit:this.handleSearchFormSubmit,error:this.state.error}),this.state.loadingflag&&!this.state.errorflag?o.a.createElement("p",null,"Loading...."):o.a.createElement("p",null),0!==this.state.result.length?o.a.createElement(I,{result:this.state.result,handleSaveBooks:this.handleSaveBooks,saveSuccess:this.state.saveSuccess}):this.state.displayflag?o.a.createElement("h4",null,"No Result to Display"):o.a.createElement("div",null))}}]),a}(n.Component);var C=function(e){return o.a.createElement("div",{className:"container-fluid savedContainer"},o.a.createElement(B,null,e.books.map((function(a){return o.a.createElement(y,{key:a._id},o.a.createElement("div",{className:"card mb-3"},o.a.createElement("div",{className:"row no-gutters"},o.a.createElement("div",{className:"col-md-4"},o.a.createElement("h5",{className:"card-title"},a.title),o.a.createElement("p",{className:"card-text"},o.a.createElement("small",{className:"text-muted"},a.authors)),o.a.createElement("img",{src:a.image,className:"card-img",alt:"book"})),o.a.createElement("div",{className:"col-md-8"},o.a.createElement("div",{className:"card-body"},o.a.createElement("p",{className:"card-text card-desc"},a.description),o.a.createElement("button",null,o.a.createElement("a",{href:a.link,target:"_blank",rel:"noopener noreferrer"},"View")),o.a.createElement("button",{onClick:e.handleDeleteBooks,id:a._id},"Delete"))))))}))))},j=function(e){function a(){var e,t;Object(v.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=Object(h.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(o)))).state={books:[],error:""},t.componentWillMount=function(){t.getBooks()},t.getBooks=function(){S.getBooks().then((function(e){console.log("success",e),t.setState({books:e.data}),console.log("state books",t.state.books)})).catch((function(e){console.log("get books err ",e)}))},t.handleDeleteBooks=function(e){console.log("delete",e.target.id),S.deleteBooks(e.target.id).then((function(e){console.log("success",e),t.getBooks()})).catch((function(e){console.log("delete books err ",e)}))},t}return Object(b.a)(a,e),Object(g.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid"},o.a.createElement(C,{getBooks:this.getBooks,books:this.state.books,handleDeleteBooks:this.handleDeleteBooks}))}}]),a}(n.Component);var x=function(){return o.a.createElement(c.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(i,null),o.a.createElement(m,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{exact:!0,path:"/",component:w}),o.a.createElement(s.a,{exact:!0,path:"/search",component:w}),o.a.createElement(s.a,{exact:!0,path:"/save",component:j})),o.a.createElement(u,null)))};r.a.render(o.a.createElement(x,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.23699524.chunk.js.map